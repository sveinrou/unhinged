{% extends "base.html" %}

{% block content %}
<div class="row mt-4">
  <div class="col-12 text-center">
    <h1>{{ profile.name }}</h1>
    {% if participant %}
    <p class="text-muted">Logget inn som: <strong>{{ participant.name }}</strong></p>
    {% endif %}
    <hr>
    <div class="d-grid gap-3 col-md-6 mx-auto mb-4">
        <a href="{% url 'upload_media_card' profile.id %}" class="btn btn-primary btn-lg">Last opp profilbilde/video</a>
        <a href="{% url 'upload_prompt_card' profile.id %}" class="btn btn-secondary btn-lg">Svar på en prompt</a>
    </div>
    
    <hr>
    {% if profile.voting_enabled %}
    <h3>Bedømming</h3>
    <div class="d-grid gap-3 col-md-6 mx-auto mb-4">
        <a href="{% url 'rank_cards' profile.id 'image' %}" class="btn btn-outline-primary btn-lg">Ranger bildekort</a>
        <a href="{% url 'rank_cards' profile.id 'prompt' %}" class="btn btn-outline-secondary btn-lg">Ranger promptkort</a>
    </div>
    {% else %}
    <div class="alert alert-secondary text-center">
        Stemming er for øyeblikket deaktivert.
    </div>
    {% endif %}

    <hr>
    {% if profile.results_available %}
    <h3>Resultater</h3>
    <div class="d-grid gap-3 col-md-6 mx-auto">
        <a href="{% url 'stats' profile.id %}" class="btn btn-info btn-lg text-white">Se statistikk og rangeringer</a>
        <a href="{% url 'final_results' profile.id %}" class="btn btn-success btn-lg">Generer endelig profil</a>
    </div>
    {% else %}
    <div class="alert alert-secondary text-center">
        Resultatene er foreløpig skjult
    </div>
    {% endif %}

    {% if user.is_authenticated %}
    <hr>
    <h3>Admin</h3>
    <div class="d-grid gap-3 col-md-6 mx-auto">
        <a href="{% url 'live_dashboard' profile.id %}" class="btn btn-warning btn-lg">Live Dashboard</a>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
